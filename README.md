# Можно считать что половин авторизации готова. Зашел и вышел все! НЕт понимания времени жизни сессии. Данный параметр надо проверять и если он false убивать юзера, мое приложение этого не умеет.

ПРоблемы:
Чтобы это реализовать брать юзера надо из объекта req.user
При смене роута происходит десеарилизация. Че делать хз
На примере https://auth0.com/blog/next-js-authentication-tutorial/ user получают из сессии user = ctx.req.session.passport.user;

- тк стратегия local создает объект юзера на сервере а auth0 в сессии

# main template next.js

1. Сделал роут callback на сервере, которого нет на клиенте, роут будет делать редирект на корень /. Полученный req.user сохраняем в контексте, при запросах ничего не отправляем, только маршруты будут проверять время жизни сессии, и в случае захода на секретную страницу, на страницу мы войдем, тк юзер сохраненн в контексте, а данные не придут.
2. Отказаться от сессии, выбрать паспорт + jwt. Сохранить токен в куках в момент ответа на отправку логин данных, привязать к каждому запросу и проверять время жизни токена.
